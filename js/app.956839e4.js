(function(t){function e(e){for(var o,a,r=e[0],l=e[1],c=e[2],d=0,v=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&v.push(n[a][0]),n[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],o=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var o={},n={app:0},s=[];function a(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=o,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/home-rank/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var o=i("85ec"),n=i.n(o);n.a},"29d9":function(t,e,i){"use strict";var o=i("4aa1"),n=i.n(o);n.a},"4a79":function(t,e,i){},"4aa1":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var o=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("header",[i("Logo")],1),i("VideoFeed")],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.error?i("div",[t._v(" "+t._s(t.error)+" ")]):t._e(),t.loading||t.error?t._e():i("div",{staticClass:"votes"},[i("p",{staticClass:"votes_info"},[t._v(" Availible votes: "+t._s(50-t.totalVotes)+" ")]),i("button",{staticClass:"votes_reset-button",on:{click:t.handleResetClick}},[t._v(" reset all ")]),i("button",{staticClass:"votes_filter-button",on:{click:t.handleFilterClick}},[t._v(" filter by votes ")])]),t.loading?t._e():i("ul",{staticClass:"video-list"},t._l(t.videos,(function(e){return i("li",{key:e.id,staticClass:"video-list__item"},[i("VideoItem",{attrs:{id:e.id,title:e.title,duration:e.duration,poster:e.main_poster_hybrid,preview:e.gif_preview,canVote:t.totalVotes<50,votes:t.votes[e.id]||0,onVoteClick:t.handleVoteClick,onResetVotesClick:t.handleResetVotesClick}})],1)})),0),t.loading?i("ul",{staticClass:"video-list"},t._l(6,(function(t){return i("li",{key:t,staticClass:"video-list__item"},[i("Stub")],1)})),0):t._e()])},r=[],l=(i("13d5"),i("b64b"),i("ade3")),c=i("5530"),u=(i("96cf"),i("1da1")),d=i("bc3a"),v=i.n(d),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{staticClass:"video"},[i("div",{staticClass:"preview"},[Boolean(t.poster)?i("img",{staticClass:"preview__image preview__image_poster",attrs:{src:t.poster,alt:t.title},on:{mouseenter:function(e){t.showPreview=!0}}}):t._e(),t.showPreview&&Boolean(t.preview)?i("img",{staticClass:"preview__image preview__image_gif",attrs:{src:t.preview,alt:t.title},on:{mouseleave:function(e){t.showPreview=!1}}}):t._e()]),i("div",{staticClass:"info"},[i("h3",{staticClass:"info__title"},[t._v(t._s(t.title))]),i("time",{staticClass:"info__duration"},[t._v(t._s(t.duration))]),i("button",{staticClass:"info__reset-button",attrs:{disabled:0===t.votes},on:{click:t.handleResetVotesClick}},[t._v(" reset votes ")]),i("button",{staticClass:"info__like-button",attrs:{disabled:!t.canVote},on:{click:t.handleVoteClick}},[t._v(" "+t._s("votes "+(t.votes||""))+" ")])])])},h=[],p=(i("a9e3"),{name:"VideoItem",props:{id:Number,poster:String,title:String,preview:String,duration:String,votes:Number,canVote:Boolean,onVoteClick:Function,onResetVotesClick:Function},data:function(){return{showPreview:!1}},methods:{handleResetVotesClick:function(){this.onResetVotesClick(this.id)},handleVoteClick:function(){this.onVoteClick(this.id)}}}),_=p,m=(i("c05a"),i("2877")),b=Object(m["a"])(_,f,h,!1,null,"1ad47976",null),g=b.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{staticClass:"video"},[i("div",{staticClass:"video__image"}),i("div",{staticClass:"info"},[i("div",{staticClass:"info__duration"}),i("div",{staticClass:"info__title"}),i("div",{staticClass:"info__like-button"})])])}],V={name:"Stub"},k=V,y=(i("29d9"),Object(m["a"])(k,w,C,!1,null,"149db6f9",null)),O=y.exports,S={name:"VideoFeed",components:{VideoItem:g,Stub:O},data:function(){return{videos:[],error:null,loading:!0,votes:{}}},mounted:function(){this.loadVideos(),this.checkSession()},computed:{totalVotes:function(){var t=this;return Object.keys(this.votes).reduce((function(e,i){var o=e+t.votes[i];return o}),0)}},methods:{loadVideos:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.error=null,e.prev=2,e.next=5,v.a.get("https://fwfg.com/api/contents?category_id=23751");case 5:i=e.sent,i&&i.data&&t.sortList(i.data),t.loading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),t.error=e.t0,t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()},sortList:function(t){var e=this;this.videos=t.sort((function(t,i){var o=e.votes[t.id]||0,n=e.votes[i.id]||0;return n-o||i.position-t.position}))},checkSession:function(){var t=new Date(window.localStorage.getItem("lastSessionDay"));if(!t||t<new Date&&t.getDate()!==(new Date).getDate())return window.localStorage.setItem("lastSessionDay",new Date),void window.localStorage.setItem("votes",JSON.stringify({}));this.votes=JSON.parse(window.localStorage.getItem("votes"))},handleVoteClick:function(t){50!==this.totalVotes?(this.votes[t]?this.votes=Object(c["a"])({},this.votes,Object(l["a"])({},t,this.votes[t]+1)):this.votes=Object(c["a"])({},this.votes,Object(l["a"])({},t,1)),this.updateVotes()):window.alert("Too many votes")},handleResetVotesClick:function(t){this.votes=Object(c["a"])({},this.votes,Object(l["a"])({},t,0)),this.updateVotes()},handleResetClick:function(){this.votes={},this.updateVotes()},updateVotes:function(){window.localStorage.setItem("votes",JSON.stringify(this.votes))},handleFilterClick:function(){this.sortList(this.videos)}}},j=S,x=(i("d050"),Object(m["a"])(j,a,r,!1,null,"262dc704",null)),F=x.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{width:"136",height:"28",viewBox:"0 0 136 28",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{fill:"none"}},[i("path",{attrs:{d:"M70.77 14.935c0-.831-.228-1.502-.675-1.994a4.426 4.426 0 0 0-1.588-1.1 10.342 10.342 0 0 0-1.973-.587 25.489 25.489 0 0 1-1.878-.434c-.556-.151-1.013-.34-1.359-.558-.283-.182-.409-.42-.409-.77 0-.538.245-1.251 2.37-1.251 2.421 0 2.565 1.09 2.612 1.449l.003.02h2.514l-.004-.025c-.119-1.052-.568-1.913-1.334-2.556-.899-.743-2.13-1.12-3.662-1.12-1.737 0-2.907.275-3.683.866-.874.656-1.318 1.592-1.318 2.782 0 .815.23 1.47.683 1.952.42.447.952.802 1.58 1.056.588.239 1.252.433 1.972.577.695.138 1.31.283 1.874.443.544.152 1 .35 1.354.59.283.19.421.46.421.825 0 .575-.288.957-.906 1.202-.286.11-.6.19-.935.24-.677.097-1.468.025-2.176-.197-.923-.314-1.423-.831-1.572-1.627h-2.575c.123 1.122.631 2.074 1.472 2.758.995.844 2.34 1.272 4.001 1.272 1.694 0 2.88-.281 3.73-.881.97-.675 1.46-1.661 1.46-2.932h.001zm6.72-6.375c.481-.207 1.086-.224 1.771-.224.68 0 1.268.186 1.798.57.52.373.91.876 1.157 1.5l.091.225h2.65l-.146-.463c-.386-1.246-1.1-2.256-2.122-3.005-1.067-.766-2.348-1.155-3.807-1.155-1.92 0-3.394.588-4.502 1.796-1.116 1.22-1.682 2.757-1.682 4.571 0 1.817.567 3.358 1.684 4.581 1.111 1.205 2.583 1.791 4.5 1.791 1.461 0 2.744-.39 3.814-1.159a5.756 5.756 0 0 0 2.115-3l.145-.464h-2.65l-.092.227a3.265 3.265 0 0 1-1.157 1.494c-.52.386-1.108.574-1.796.574-1.385 0-2.31-.342-3-1.11-.715-.792-1.062-1.75-1.062-2.934 0-1.187.35-2.145 1.07-2.929.337-.376.75-.676 1.21-.882l.011-.004zm14.165-2.152l-.002.005-.015.007c-.56.252-1.07.601-1.508 1.03l-.438.437V6.009h-2.5v12.739h2.5v-5.564c0-1.274.355-2.377 1.057-3.28.74-.944 1.672-1.403 2.842-1.403h.574V6.009h-.48c-.781 0-1.463.134-2.03.399zm-39.462 9.847a3.088 3.088 0 0 1-3.083-3.086V6.01h-2.497v7.16a5.585 5.585 0 0 0 5.58 5.578 5.585 5.585 0 0 0 5.58-5.578V6.01h-2.499v7.16a3.087 3.087 0 0 1-3.08 3.086l-.001-.001zm77.315-10.247a5.585 5.585 0 0 0-5.58 5.578v7.161h2.499v-7.16a3.087 3.087 0 0 1 3.08-3.087c1.7 0 3.084 1.384 3.084 3.086v7.161h2.497v-7.16a5.585 5.585 0 0 0-5.58-5.579zm-31.895 5.161l.11-.336a3.63 3.63 0 0 1 .993-1.575c.676-.62 1.493-.921 2.501-.921 1.007 0 1.823.3 2.499.92.467.436.793.952.995 1.576l.109.336h-7.207zm3.604-5.16c-1.859 0-3.398.635-4.575 1.887-1.1 1.207-1.658 2.746-1.658 4.576 0 1.75.552 3.144 1.735 4.389 1.189 1.252 2.743 1.887 4.616 1.887 1.479 0 2.711-.358 3.659-1.063.797-.587 1.436-1.41 1.899-2.444l.013-.03h-2.839l-.006.009c-.65.808-1.534 1.2-2.7 1.2-1.081 0-1.945-.323-2.64-.99-.485-.463-.847-.905-1.044-1.557l-.101-.331h9.874v-1.07c0-1.835-.56-3.376-1.662-4.581-1.172-1.25-2.71-1.882-4.571-1.882zm10.611 5.16l.109-.336c.189-.602.53-1.145.993-1.575.676-.62 1.493-.921 2.5-.921s1.824.3 2.499.92c.468.436.794.95.996 1.576l.109.336h-7.206zm3.603-5.16c-1.858 0-3.398.635-4.576 1.887-1.1 1.206-1.657 2.745-1.657 4.576 0 1.75.552 3.144 1.735 4.389 1.189 1.252 2.743 1.887 4.617 1.887 1.478 0 2.708-.358 3.657-1.063.797-.586 1.435-1.408 1.9-2.444l.013-.03h-2.84l-.006.009c-.65.808-1.533 1.2-2.7 1.2-1.081 0-1.944-.323-2.64-.99-.484-.463-.846-.906-1.043-1.557l-.101-.331h9.874v-1.07c0-1.835-.56-3.376-1.662-4.581-1.173-1.25-2.711-1.882-4.571-1.882zM23.116 0c-.255 0-.513.018-.772.054L4.774 2.505a5.537 5.537 0 0 0-4.72 6.249L1.62 19.983a5.54 5.54 0 0 0 6.25 4.719l17.57-2.45a5.538 5.538 0 0 0 4.72-6.25L28.594 4.774A5.54 5.54 0 0 0 23.116 0zm0 2.484a3.064 3.064 0 0 1 3.018 2.633L27.7 16.345a3.057 3.057 0 0 1-2.603 3.446l-17.57 2.451a3.064 3.064 0 0 1-3.447-2.603L2.514 8.411a3.058 3.058 0 0 1 2.603-3.446l17.57-2.451c.143-.02.287-.03.429-.03z",fill:"#1B2733"}}),i("path",{attrs:{d:"M36.191 18.748a8.583 8.583 0 0 1-17.166-.001 8.583 8.583 0 0 1 17.166 0",fill:"#006AFF"}}),i("path",{attrs:{d:"M26.182 22.061l5.058-3.039a.32.32 0 0 0 0-.548l-5.058-3.04a.32.32 0 0 0-.484.274v6.079a.32.32 0 0 0 .484.274",fill:"#FFF"}})])])},L=[],P={name:"Logo"},R=P,D=Object(m["a"])(R,z,L,!1,null,null,null),I=D.exports,M={name:"App",components:{VideoFeed:F,Logo:I}},$=M,E=(i("034f"),Object(m["a"])($,n,s,!1,null,null,null)),B=E.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(B)}}).$mount("#app")},"85ec":function(t,e,i){},c05a:function(t,e,i){"use strict";var o=i("f4db"),n=i.n(o);n.a},d050:function(t,e,i){"use strict";var o=i("4a79"),n=i.n(o);n.a},f4db:function(t,e,i){}});
//# sourceMappingURL=app.956839e4.js.map